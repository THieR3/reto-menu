<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Panier</title>
    <style>
        body { background: #fdf5e6; font-family: sans-serif; padding: 20px; }
        .item { background: white; padding: 15px; border-radius: 15px; margin-bottom: 10px; display: flex; justify-content: space-between; }
        textarea { width: 100%; height: 80px; border-radius: 15px; padding: 10px; border: 1px solid #ddd; margin: 15px 0; }
        .btn-order { width: 100%; padding: 20px; background: #27ae60; color: white; border: none; border-radius: 15px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ðŸ›’ Votre Panier</h1>
    <div id="liste-panier"></div>
    
    <h3>Demandes spÃ©cifiques :</h3>
    <textarea id="notes" placeholder="Ex: Allergie au gluten, cuisson Ã  point..."></textarea>
    
    <div id="total" style="font-size: 20px; font-weight: bold; margin: 20px 0;">Total: 0â‚¬</div>
    <button class="btn-order" onclick="envoyerCommande()">ENVOYER LA COMMANDE</button>

    <script>
        const panier = JSON.parse(localStorage.getItem('panier')) || [];
        const liste = document.getElementById('liste-panier');
        let total = 0;

        panier.forEach(p => {
            liste.innerHTML += `<div class="item"><span>${p.nom}</span> <b>${p.prix}</b></div>`;
            total += parseFloat(p.prix);
        });
        document.getElementById('total').innerText = `Total: ${total}â‚¬`;

        function envoyerCommande() {
            const commande = {
                table: panier[0]?.table || "Inconnue",
                plats: panier,
                notes: document.getElementById('notes').value,
                heure: new Date().toLocaleTimeString(),
                total: total
            };

            // Simulation : On stocke dans une liste de commandes pour le cuisinier
            let commandesEnCours = JSON.parse(localStorage.getItem('commandesCuisine')) || [];
            commandesEnCours.push(commande);
            localStorage.setItem('commandesCuisine', JSON.stringify(commandesEnCours));

            alert("Commande envoyÃ©e en cuisine !");
            localStorage.removeItem('panier'); // On vide le panier
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>